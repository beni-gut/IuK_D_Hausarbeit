CREATE TABLE tBuch (
    buchId INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    lieferfrist INTERVAL DAY NOT NULL ,
    langId INTEGER NOT NULL ,
    infoId INTEGER NOT NULL ,
    availableId INTEGER NOT NULL ,
    publisherId INTEGER NOT NULL ,
    priceId INTEGER NOT NULL ,
    placeId INTEGER NOT NULL
);


CREATE TABLE tLanguage (
    langId INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    sprache VARCHAR(20) NOT NULL
);

CREATE TABLE tInfo (
    infoId INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    titel TEXT NOT NULL ,
    isbn CHAR(13) NOT NULL
);

CREATE TABLE tAvailability (
    availableId INTEGER GENERATED ALWAYS AS IDENTITY PRIMARY KEY NOT NULL ,
    verfuegbarkeit BOOLEAN NOT NULL
);

CREATE TABLE tPublisher (
    publisherId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    verlagsBezeichnung VARCHAR(20) NOT NULL ,
    telefonnumer VARCHAR(20) NOT NULL ,
    mailadresse TEXT NOT NULL ,
    addrStrasse VARCHAR(20) NOT NULL ,
    addrNummer VARCHAR(5) NOT NULL ,
    addrPLZ INTEGER NOT NULL ,
    addrOrt VARCHAR(20) NOT NULL ,
    nameKontaktPers VARCHAR(20) NOT NULL,
    vornameKontaktPers VARCHAR(20) NOT NULL
);

CREATE TABLE tPrices (
    priceId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    einkaufspreis NUMERIC(5,2) NOT NULL ,
    bestandespreis NUMERIC(5,2) GENERATED ALWAYS AS ( einkaufspreis * 0.95 ) STORED NOT NULL ,
    verkaufspreis NUMERIC(5,2) GENERATED ALWAYS AS ( einkaufspreis * 1.2 ) STORED NOT NULL
);

CREATE TABLE tInventory (
    placeId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    storeId INTEGER NOT NULL ,
    storageId INTEGER NOT NULL
);

CREATE TABLE tStore (
    storeId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    anzahl INTEGER NOT NULL
);

CREATE TABLE tStorage (
    storageId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    anzahl INTEGER NOT NULL
);


CREATE TABLE tAuthor (
    authorId INTEGER UNIQUE GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL ,
    autorName VARCHAR(20) NOT NULL ,
    authorVorname VARCHAR(20) NOT NULL
);


CREATE TABLE tMappingBuchAuthor (
    buchId INTEGER NOT NULL ,
    authorId INTEGER NOT NULL
);

